---
- name: Install Homepage
  hosts: local_docker_hosts
  become: yes
  gather_facts: yes

  roles:
    - role: ../roles/homepage

  post_tasks:
    - name: Check Homepage web interface connectivity
      uri:
        url: "http://{{ homepage_domain }}"
        method: GET
        timeout: 10
      register: homepage_web_check
      failed_when: false
      changed_when: false

    - name: Display setup completion
      debug:
        msg:
          - "ðŸŽ‰ Homepage setup completed successfully!"